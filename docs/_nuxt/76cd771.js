"use strict";(self.webpackChunknuxt_app=self.webpackChunknuxt_app||[]).push([["387"],{3340:function(u,c,s){s.d(c,{Z:()=>m});var e=s(7347);const f={class:"absolute"},g=["value"],m=(0,e.aZ)({__name:"app",setup(y){const v=(0,e.iH)(),d=(0,e.iH)(),o=(0,e.iH)(),p=new Worker(new URL(s.p+s.u("697"),s.b));let i=null;(0,e.bv)(async()=>{i=await navigator.mediaDevices.getUserMedia({video:!0}),v.value=await navigator.mediaDevices.enumerateDevices()});const r=(0,e.iH)(!1);async function _(){if(r.value=!0,i?.getTracks()?.forEach(t=>t.stop()),!o.value)return;try{i=await navigator.mediaDevices.getUserMedia({video:{deviceId:d.value}})}catch(t){console.log(t)}o.value.srcObject=i,await new Promise(t=>{o.value.addEventListener("loadeddata",()=>t())}),o.value.play();let l=!1;p.onmessage=t=>{switch(t.data.type){case"init":l=!0;break;case"pose":console.log(t.data.result),n=!1;break;case"hand":break}};let n=!1;const a=async()=>{if(l&&!n){const t=await createImageBitmap(o.value);p.postMessage(t,[t]),n=!0}r.value&&requestAnimationFrame(a)};a()}return(0,e.SK)(()=>{r.value=!1,i?.getTracks()?.forEach(l=>l.stop())}),(l,n)=>((0,e.wg)(),(0,e.iD)("div",f,[(0,e.wy)((0,e._)("select",{"onUpdate:modelValue":n[0]||(n[0]=a=>d.value=a)},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(v.value,a=>((0,e.wg)(),(0,e.iD)(e.HY,{key:a.deviceId},[a.kind==="videoinput"?((0,e.wg)(),(0,e.iD)("option",{key:0,value:a.deviceId},(0,e.zw)(a.label),9,g)):(0,e.kq)("",!0)],64))),128))],512),[[e.bM,d.value]]),r.value?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("button",{key:0,class:"rounded border text-white",onClick:_}," START")),r.value?((0,e.wg)(),(0,e.iD)("button",{key:1,class:"rounded border text-white",onClick:n[1]||(n[1]=a=>r.value=!1)}," STOP")):(0,e.kq)("",!0),(0,e.wy)((0,e._)("video",{ref_key:"videoElement",ref:o},null,512),[[e.F8,!1]])]))}})}},function(u){var c=function(e){return u(u.s=e)};u.O(0,["955"],function(){return c("1679")});var s=u.O()}]);
