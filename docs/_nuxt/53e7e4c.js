"use strict";(self.webpackChunknuxt_app=self.webpackChunknuxt_app||[]).push([["387"],{3340:function(u,c,s){s.d(c,{Z:()=>m});var e=s(7347);const f={class:"absolute"},g=["value"],m=(0,e.aZ)({__name:"app",setup(y){const v=(0,e.iH)(),d=(0,e.iH)(),o=(0,e.iH)();let i=null;(0,e.bv)(async()=>{i=await navigator.mediaDevices.getUserMedia({video:!0}),v.value=await navigator.mediaDevices.enumerateDevices()});const r=(0,e.iH)(!1);async function _(){if(r.value=!0,i?.getTracks()?.forEach(a=>a.stop()),!o.value)return;try{i=await navigator.mediaDevices.getUserMedia({video:{deviceId:d.value}})}catch(a){console.log(a)}o.value.srcObject=i,await new Promise(a=>{o.value.addEventListener("loadeddata",()=>a())}),o.value.play();let l=!1;const n=new Worker(new URL(s.p+s.u("434"),s.b));n.onmessage=a=>{switch(a.data.type){case"init":l=!0;break;case"pose":console.log(a.data.result),t=!1;break;case"hand":break}};let t=!1;const p=async()=>{if(l&&!t){const a=await createImageBitmap(o.value);n.postMessage(a,[a]),t=!0}r.value&&requestAnimationFrame(p)};p()}return(0,e.SK)(()=>{r.value=!1,i?.getTracks()?.forEach(l=>l.stop())}),(l,n)=>((0,e.wg)(),(0,e.iD)("div",f,[(0,e.wy)((0,e._)("select",{"onUpdate:modelValue":n[0]||(n[0]=t=>d.value=t)},[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(v.value,t=>((0,e.wg)(),(0,e.iD)(e.HY,{key:t.deviceId},[t.kind==="videoinput"?((0,e.wg)(),(0,e.iD)("option",{key:0,value:t.deviceId},(0,e.zw)(t.label),9,g)):(0,e.kq)("",!0)],64))),128))],512),[[e.bM,d.value]]),r.value?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("button",{key:0,class:"rounded border text-white",onClick:_}," START")),r.value?((0,e.wg)(),(0,e.iD)("button",{key:1,class:"rounded border text-white",onClick:n[1]||(n[1]=t=>r.value=!1)}," STOP")):(0,e.kq)("",!0),(0,e.wy)((0,e._)("video",{ref_key:"videoElement",ref:o},null,512),[[e.F8,!1]])]))}})}},function(u){var c=function(e){return u(u.s=e)};u.O(0,["955"],function(){return c("1679")});var s=u.O()}]);
